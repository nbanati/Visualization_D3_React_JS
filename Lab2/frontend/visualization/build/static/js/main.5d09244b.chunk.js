(this.webpackJsonpvisualization=this.webpackJsonpvisualization||[]).push([[0],{23:function(t,e,n){},24:function(t,e,n){},43:function(t,e,n){},45:function(t,e,n){},46:function(t,e,n){"use strict";n.r(e);var r=n(2),c=n.n(r),a=n(17),i=n.n(a),s=(n(23),n(3)),o=(n(24),n(4)),l=n.n(o),d=(n(43),n(0)),u=function(t){return Object(d.jsxs)("div",{className:"mainBar",children:[Object(d.jsxs)("div",{className:"options",onClick:function(){return t.changeChart(1)},children:[Object(d.jsx)("img",{src:"https://img.icons8.com/metro/26/000000/combo-chart.png",height:"15",width:"15"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("b",{children:"ScreePlot "})]}),Object(d.jsxs)("div",{className:"options",onClick:function(){return t.changeChart(2)},children:[Object(d.jsx)("img",{src:"https://img.icons8.com/dotty/80/000000/graph.png",height:"15",width:"15"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("b",{children:"BiPlot "})]}),Object(d.jsxs)("div",{className:"options",onClick:function(){return t.changeChart(3)},children:[Object(d.jsx)("img",{src:"https://img.icons8.com/small/16/000000/grid.png",height:"15",width:"15"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("b",{children:"ScatterPlot Matrix "})]}),Object(d.jsxs)("div",{className:"options",onClick:function(){return t.changeChart(4)},children:[Object(d.jsx)("img",{src:"https://img.icons8.com/metro/26/000000/scatter-plot.png",height:"15",width:"15"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("b",{children:"MDS Data Plot"})]}),Object(d.jsxs)("div",{className:"options",onClick:function(){return t.changeChart(5)},children:[Object(d.jsx)("img",{src:"https://img.icons8.com/metro/26/000000/scatter-plot.png",height:"15",width:"15"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("b",{children:"MDS Variables Plot "})]}),Object(d.jsxs)("div",{className:"options",onClick:function(){return t.changeChart(6)},children:[Object(d.jsx)("img",{src:"https://img.icons8.com/fluent-systems-filled/24/000000/grip-lines-vertical.png",height:"15",width:"15"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("b",{children:"Parallel Coordinates Plot "})]})]})},j=function(t){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{style:{width:"80%"},children:["This project is completed in accordance with the requirements of the course CSE-564 : Visualization at Stony Brook University.",Object(d.jsx)("br",{}),"The project provides an interactive Visualization of New York Housing Units Data (by buildings) made publically available at NYC OpenData(",Object(d.jsx)("a",{href:"https://data.cityofnewyork.us/Housing-Development/Housing-New-York-Units-by-Building/hg8x-zxpr",children:"here"}),") by The Department of Housing Preservation and Development (HPD).",Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),"The dataset contains New Yorks housing data per building for each building project and its related data. The dataset consists of 4,732 Rows and 42 Columns. The data was processed, cleaned to obtain a dataset of 15(+1) useful columns and 1500 randomly sampled rows using a python script. The following are the definitions of the attributes in the sampled data:",Object(d.jsx)("br",{}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("b",{children:"Numeric Variables"}),Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:Object(d.jsx)("font",{style:{color:"#2e8083"},children:"Extremely Low Income Units"})})," - Units with rents that are affordable to households earning 0 to 30% of the area median income (AMI)."]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:Object(d.jsx)("font",{style:{color:"#2e8083"},children:"Very Low Income Units "})}),"- Units with rents that are affordable to households earning 31 to 50% of the area median income (AMI)."]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:Object(d.jsx)("font",{style:{color:"#2e8083"},children:"Low Income Units "})}),"\u2013 Units with rents that are affordable to households earning 51 to 80% of the median income (AMI)."]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:Object(d.jsx)("font",{style:{color:"#2e8083"},children:"Counted Rental Units "})}),"\u2013 Units where assistance has been provided to landlords for affordable units."]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:Object(d.jsx)("font",{style:{color:"#2e8083"},children:"Counted Homeownership Units "})}),"\u2013 Units where assistance has been provided directly to homeowners."]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:Object(d.jsx)("font",{style:{color:"#2e8083"},children:"Total Counted Units "})}),"- Total number of affordable, regulated units in the building. "]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:Object(d.jsx)("font",{style:{color:"#2e8083"},children:"Total Units "})}),"- The total number of units, affordable and market rate, in each building."]})]}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("b",{children:"Categorical Variables"}),Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:Object(d.jsx)("font",{style:{color:"#2e8083"},children:" Program Group "})}),"- The project group/category for a building project"]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:Object(d.jsx)("font",{style:{color:"#2e8083"},children:" Borough "})}),"- The Borough where the building is located."]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:Object(d.jsx)("font",{style:{color:"#2e8083"},children:" PostCode "})}),"- The ZipCode where the building is located."]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:Object(d.jsx)("font",{style:{color:"#2e8083"},children:" Council District "})}),"- The NYC Council District where the building is located."]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:Object(d.jsx)("font",{style:{color:"#2e8083"},children:" Census Tract "})})," \u2013 The 2010 U.S. Census Tract number where the building is located."]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:Object(d.jsx)("font",{style:{color:"#2e8083"},children:" NTA - Neighborhood Tabulation Area "})}),"\u2013 The NYC Neighborhood Tabulation Area number where the building is located."]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:Object(d.jsx)("font",{style:{color:"#2e8083"},children:" Reporting Construction Type "})}),"\u2013 Either a \u2018new construction\u2019 or \u2018preservation\u2019",Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:"\u2018New construction\u2019 \u2013 New affordable housing units are created, or down payment assistance is given to a homeowner to access an affordable home."}),Object(d.jsx)("li",{children:"\u2018Preservation\u2019 - Existing buildings receive physical rehabilitation and/or financial operating assistance is for existing and future tenants. "})]})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:Object(d.jsx)("font",{style:{color:"#2e8083"},children:"Prevailing wage status "})}),"- Whether the project is subject to any prevailing wage requirements, such as Davis Bacon."]})]})]})]}),Object(d.jsxs)("div",{children:["Source:",Object(d.jsx)("br",{}),"1. DataSet and Rephrased Definitions: https://data.cityofnewyork.us/Housing-Development/Housing-New-York-Units-by-Building/hg8x-zxpr",Object(d.jsx)("br",{}),"2. Icons : https://icons8.com/icons/"]})]})},b=n(1),h=n(18),f=function(t){var e=Object(r.useState)(),n=Object(s.a)(e,2),c=n[0],a=n[1],i=Object(r.useState)(),o=Object(s.a)(i,2),u=o[0],j=o[1],f=Object(r.useRef)(null),x=(t.data,380),p=(t.chartVariable,Object(h.a)().attr("class","d3-tip animate").offset([-20,0]).html((function(t){return'<strong><font color="red">'+t+"</font></strong>"})));Object(r.useEffect)((function(){l.a.get("http://localhost:5000/scree_plot").then((function(t){var e=t.data;a(e)})),O(),g()}),[t]);var O=function(){b.p(f.current).selectAll("svg > *").remove(),b.p(".d3-tip").remove()},g=function(){if(void 0!=c){var e=b.p(f.current).attr("height",500).attr("width",1e3).style("background-color","#f5f5f5").append("g").attr("transform","translate(100,20)"),n=b.k().domain(c.variance.map((function(t,e){return"PC "+(e+1)}))).range([0,870]).paddingInner(.1).paddingOuter(.1);e.append("g").attr("transform","translate(0,380)").call(b.a(n)).call((function(t){return t.append("text").style("font-size","18px").attr("x",435).attr("y",60).attr("fill","currentColor").attr("text-anchor","start").text("Principal Components")}));var r=b.l().range([x,0]).domain([0,1]);e.append("g").call(b.b(r)).call((function(t){return t.append("text").style("font-size","18px").attr("x",-190).attr("y",-80).attr("fill","currentColor").attr("text-anchor","end").attr("transform","rotate(-90)").text("Explained Variance")}));var a=n.bandwidth();e.selectAll("rect").data(c.variance).enter().append("rect").attr("x",(function(t,e){return n("PC "+(e+1))})).attr("y",(function(t,e){return r(t)})).attr("width",a).attr("height",(function(t,e){return x-r(t)})).style("fill",(function(t,e){return"blue"})).on("mouseover",(function(t,e){p.show(t,this),b.p(this).transition().duration("50").style("fill","red")})).on("mouseout",(function(t,e){b.p(this).transition().duration("50").style("fill","blue"),p.hide()})).on("click",(function(e,n){j(n),b.f.stopPropagation(),t.changeDim(n+1)})),e.append("path").datum(c.variance_cumulative).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",b.h().x((function(t,e){return n("PC "+(e+1))+n.bandwidth()/2})).y((function(t){return r(t)}))),e.selectAll("myCircles").data(c.variance_cumulative).enter().append("circle").attr("fill","red").attr("stroke","none").attr("cx",(function(t,e){return n("PC "+(e+1))+n.bandwidth()/2})).attr("cy",(function(t){return r(t)})).attr("r",3).on("mouseover",(function(t,e){p.show(t,this)})).on("mouseout",(function(t,e){p.hide()})),e.call(p)}};return Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:Object(d.jsx)("u",{children:"Scree Plot"})}),Object(d.jsxs)("div",{children:["Dimensionality index is : ",u+1?u+1:" Select Dimensionality Index"," "]}),c?Object(d.jsx)("svg",{ref:f}):Object(d.jsx)("div",{})]})},x=(n(7),function(t){var e=Object(r.useRef)(null),n=Object(r.useState)(),c=Object(s.a)(n,2),a=c[0],i=c[1];t.data,t.chartVariableX,t.chartVariableY,t.isXNumeric,t.isYNumeric;Object(r.useEffect)((function(){l.a.get("http://localhost:5000/bi_plot").then((function(t){var e=t.data,n=JSON.parse(e.eigen_vectors[0]),r=JSON.parse(e.feature_coordinates[0]);i({eigen_vectors:n,feature_coordinates:r}),o(),u()}))}),[t]),Object(r.useEffect)((function(){o(),u()}),[a]);var o=function(){b.p(e.current).selectAll("svg > *").remove()},u=function(){if(void 0!=a){var t=b.p(e.current).attr("height",500).attr("width",1e3).style("background-color","#f5f5f5").append("g").attr("transform","translate(100,20)"),n=a.eigen_vectors["PC 1"],r=b.i(Object.keys(n),(function(t,e){return 1})),c=b.l().domain([-r,b.i(Object.keys(n),(function(t,e){return 1}))]).range([0,890]);t.append("g").attr("transform","translate(0,410)").call(b.a(c)).call((function(t){return t.append("text").style("font-size","18px").attr("x",445).attr("y",60).attr("fill","blue").attr("text-anchor","start").text("PC 1")})),n=a.eigen_vectors["PC 2"],r=b.i(Object.keys(n),(function(t,e){return 1}));var i=b.l().domain([-r,r]).range([410,0]);t.append("g").call(b.b(i)).call((function(t){return t.append("text").style("font-size","18px").attr("x",-105).attr("y",-80).attr("fill","red").attr("text-anchor","end").attr("transform","rotate(-90)").text("PC 2")}));var s=a.eigen_vectors["PC 1"],o=a.eigen_vectors["PC 2"];t.append("g").selectAll("dot").data(Object.keys(a.eigen_vectors["PC 1"])).enter().append("circle").attr("cx",(function(t,e){return c(s[t])})).attr("cy",(function(t,e){return i(o[t])})).attr("r",3).style("fill","green");var l=.38;s=a.feature_coordinates["PC 1"],o=a.feature_coordinates["PC 2"];var d=t.append("g");d.selectAll(".line").data(Object.keys(a.feature_coordinates["PC 1"])).enter().append("line").style("stroke","black").style("stroke-width",1).attr("x1",(function(t,e){return c(-.38)})).attr("y1",(function(t,e){return i(o[t]/s[t]*-.38)})).attr("x2",(function(t,e){return c(l)})).attr("y2",(function(t,e){return i(o[t]/s[t]*l)})),d.selectAll("text").data(Object.keys(a.feature_coordinates["PC 1"])).enter().append("text").attr("x",(function(t,e){return c(l)})).attr("y",(function(t,e){return i(o[t]/s[t]*l)})).attr("dy",".35em").style("font-size","10px").text((function(t){return t}))}};return Object(d.jsx)("div",{children:a?Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:Object(d.jsx)("u",{children:"PCA-based Biplot"})}),Object(d.jsx)("svg",{ref:e})]}):Object(d.jsx)("div",{children:"Loading"})})}),p=function(t){var e=Object(r.useState)(),n=Object(s.a)(e,2),c=n[0],a=n[1],i=Object(r.useState)(),o=Object(s.a)(i,2),u=o[0],j=o[1],h=Object(r.useRef)(null),f=t.data,x=[],p=["red","blue","green","gold"];Object(r.useEffect)((function(){l.a.get("http://localhost:5000/loading/"+(t.dimensionality?t.dimensionality:4)).then((function(t){var e=t.data,n=JSON.parse(e),r='<table style="border: 1px solid black">',c=[],i=[];Object.keys(n).map((function(t,e){c[e]=t})),Object.keys(n).map((function(t,e){Object.keys(n[t]).map((function(t,e){i[e]=t}))})),r+="<tr><th>Features</th>";for(var s=0;s<c.length;s++)r+="<th>"+c[s]+"</th>";r+="</tr>";for(var o=0;o<4;o++){r+="<tr><td><b>"+i[o]+"</b></td>";for(var l=0;l<c.length;l++)r+="<td>"+n[c[l]][i[o]]+"</td>";r+="</tr>"}a(r+="</table>")})),l.a.get("http://localhost:5000/scatterplotmatrix").then((function(t){var e=t.data,n=JSON.parse(e);j(n),Object.keys(n).map((function(t,e){x[e]=t})),O(),m()})).catch((function(t){console.error("error",t)}))}),[t]),Object(r.useEffect)((function(){O(),m()}),[u]);var O=function(){b.p(h.current).selectAll("svg > *").remove()},g=function(t,e){var n,r,c=[],a=t.length,i=e.length;for(n=-1;++n<a;)for(r=-1;++r<i;)c.push({x:t[n],i:n,y:e[r],j:r});return c},m=function(){if(void 0!=u){var t=u,e=[];Object.keys(t).map((function(t,n){e[n]=t}));var n=e.slice(0,-1),r=new Object(n),c=250,a=20,i=b.l().range([10,240]),s=b.l().range([240,10]),o=b.a(i).tickFormat((function(t){return t})),l=b.b(s).tickFormat((function(t){return t}));b.m(b.o);f={};for(var d=0;d<5;d++)f[e[d]]=t[e[d]];var j={},x=r.length;o.tickSize(c*x),l.tickSize(-250*x),r.forEach((function(t){j[t]=b.g(b.r(f[t]))}));var O=b.p(h.current).attr("id","chart").attr("width",c*x+a).attr("height",c*x+a).append("g").attr("transform","translate(20,10)");O.selectAll(".x.axis").data(r).enter().append("g").attr("class","x axis").attr("transform",(function(t,e){return"translate("+(x-e-1)*c+",0)"})).each((function(t){i.domain(j[t]),b.p(this).call(o)})),O.selectAll(".y.axis").data(r).enter().append("g").attr("class","y axis").attr("transform",(function(t,e){return"translate(0,"+e*c+")"})).each((function(t){s.domain(j[t]),b.p(this).call(l)})),O.append("text").attr("x",500).attr("y",5).attr("text-anchor","middle").style("font-size","16px").style("text-decoration","underline").style("font-weight","bold").text("ScatterPlot Matrix");for(var m=O.selectAll(".cell").data(g(r,r)).enter().append("g").attr("class",(function(t){return"cell"+(x-t.i-1)+t.j})).attr("transform",(function(t){return"translate("+(x-t.i-1)*c+","+t.j*c+")"})),v=g(r,r),y=function(t){var e=v[t];i.domain(j[String(e.x)]),s.domain(j[String(e.y)]),b.q("g.cell"+(x-e.i-1)+e.j).append("rect").attr("id","frame").attr("class","rec").attr("x",10).attr("y",10).attr("width",230).attr("height",230).style("fill","#e7e7e7").style("fill-opacity",.7);var n=f[String(e.x)],r=f[String(e.y)],c=[],a=b.r(r),o=b.r(f.color);b.r(n).forEach((function(t,e){var n={};n.x=t,n.y=a[e],n.color=o[e],c.push(n)})),b.q("g.cell"+(x-e.i-1)+e.j).selectAll("circle").data(c).enter().append("circle").attr("cx",(function(t){return i(t.x)})).attr("cy",(function(t){return s(t.y)})).attr("r",3).style("fill",(function(t){return p[t.color]}))},C=0;C<16;C++)y(C);m.filter((function(t){return t.i===t.j})).append("text").attr("x",75).attr("y",105).attr("dy",".65em").style("font-weight","bold").style("font-size","20px").text((function(t){return t.x}))}};return Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),c?Object(d.jsx)("div",{className:"content",dangerouslySetInnerHTML:{__html:c}}):Object(d.jsx)("div",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),u?Object(d.jsxs)("div",{children:[Object(d.jsx)("svg",{ref:h}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"legend",children:[Object(d.jsx)("b",{children:"Color Legend"}),Object(d.jsx)("br",{}),"Red   -  Cluster 1",Object(d.jsx)("br",{}),"Blue  -  Cluster 2",Object(d.jsx)("br",{}),"Green -  Cluster 3",Object(d.jsx)("br",{}),"Gold  -  Cluster 4",Object(d.jsx)("br",{})]}),Object(d.jsx)("br",{})]}):Object(d.jsx)("div",{})]})},O=function(t){var e,n,c=Object(r.useRef)(null),a=Object(r.useState)(),i=Object(s.a)(a,2),o=i[0],u=i[1],j=(t.data,["red","blue","black","green"]);Object(r.useEffect)((function(){l.a.get("http://localhost:5000/mds_data").then((function(t){var e=t.data,n=JSON.parse(e),r={first:n.first,second:n.second,color:n.color};u(r),h(),f()})),h()}),[t]),Object(r.useEffect)((function(){h(),f()}),[o]);var h=function(){b.p(c.current).selectAll("svg > *").remove()},f=function(){if(void 0!=o&&(e=o.first,n=o.second),void 0!=e&&void 0!=n){var t=b.p(c.current).attr("height",500).attr("width",1e3).style("background-color","#f5f5f5").append("g").attr("transform","translate(100,20)"),r=b.l().domain([b.j(Object.keys(e),(function(t){return 1.2*e[t]})),b.i(Object.keys(e),(function(t){return 1.2*e[t]}))]).range([0,870]);t.append("g").attr("transform","translate(0,380)").call(b.a(r)).call((function(t){return t.append("text").style("font-size","18px").attr("x",435).attr("y",60).attr("fill","blue").attr("text-anchor","start").text("Component 1")}));var a=b.l().domain([b.j(Object.keys(n),(function(t){return 1.2*n[t]})),b.i(Object.keys(n),(function(t){return 1.2*n[t]}))]).range([380,0]);t.append("g").call(b.b(a)).call((function(t){return t.append("text").style("font-size","18px").attr("x",-90).attr("y",-80).attr("fill","red").attr("text-anchor","end").attr("transform","rotate(-90)").text("Component 2")})),t.append("g").selectAll("dot").data(Object.keys(e)).enter().append("circle").attr("cx",(function(t){return r(e[t])})).attr("cy",(function(t){return a(n[t])})).attr("r",3).style("fill",(function(t){return j[o.color[t]]}))}};return Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),o?Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:Object(d.jsx)("u",{children:"MDS Data Plot using Euclidian distance"})}),Object(d.jsx)("svg",{ref:c}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"legend",children:[Object(d.jsx)("b",{children:"Color Legend"}),Object(d.jsx)("br",{}),"Red   -  Cluster 1",Object(d.jsx)("br",{}),"Blue  -  Cluster 2",Object(d.jsx)("br",{}),"Black-  Cluster 3",Object(d.jsx)("br",{}),"Green  -  Cluster 4",Object(d.jsx)("br",{})]}),Object(d.jsx)("br",{})]}):Object(d.jsx)("div",{children:" Loading .... "})]})},g=(n(45),function(t){var e,n,c,a,i=Object(r.useRef)(null),o=Object(r.useState)(),u=Object(s.a)(o,2),j=u[0],h=u[1],f=Object(r.useState)(),x=Object(s.a)(f,2),p=x[0],O=x[1],g=Object(r.useState)(!1),m=Object(s.a)(g,2),v=m[0],y=m[1],C=50,k=50,w=50,S=50,P=1400-S-k,N=500-C-w,A={},T=b.h(),D=["red","blue","black","green"];Object(r.useEffect)((function(){void 0==t.readFromMDSV||0==v?l.a.get("http://localhost:5000/pcp").then((function(t){var e=t.data,n=JSON.parse(e),r=n;Object.keys(n[0]).length;!function(t){var e=[],n={};Object.keys(t[0]).map((function(r,c){"color"!=r&&(n="number"===typeof t[0][r]?{name:r,scale:b.l().range([N,0]),type:"number"}:{name:r,scale:b.k().range([0,N]),type:"string"},e.push(n))})),O(e),c=e}(n),c.forEach((function(t){t.scale.domain("number"===t.type?b.g(n,(function(e){return+e[t.name]})):n.map((function(e){return e[t.name]})).sort())})),h(r),E(),I()})):1==v&&l.a.get("http://localhost:5000/mdspcp").then((function(e){var n=e.data,r=JSON.parse(n),a=r;!function(t){for(var e=[],n={},r=0;r<t.length;r++)n={name:t[r],scale:b.l().range([N,0]),type:"number"},e.push(n);O(e),c=e}(t.readFromMDSV),c.forEach((function(t){t.scale.domain("number"===t.type?b.g(r,(function(e){return+e[t.name]})):r.map((function(e){return e[t.name]})).sort())})),h(a),E(),I()})),E(),I()}),[t,v]),Object(r.useEffect)((function(){E(),I()}),[j,p]);var E=function(){b.p(i.current).selectAll("svg > *").remove()},U=function(t){var e=A[t.name];return null==e?a(t.name):e},_=function(t){return t.transition().duration(500)},z=function(t){return T(p.map((function(e){var n=A[e.name];return[void 0==n?a(e.name):n,"string"===e.type?e.scale(t[e.name])+e.scale.bandwidth()/2:e.scale(t[e.name])]})))},B=function(){b.f.sourceEvent.stopPropagation()},M=function(t){var e=[];t.selectAll(".brush").filter((function(t){return b.c(this)})).each((function(t){e.push({dimension:t,extent:b.c(this)})})),0===e.length?n.style("display",null):n.style("display",(function(t){return e.every((function(e){return e.extent[0]<=e.dimension.scale(t[e.dimension.name])&&e.dimension.scale(t[e.dimension.name])<=e.extent[1]}))?null:"none"}))},I=function(){if(void 0!=j){a=b.n().domain(p.map((function(t){return t.name}))).range([0,P]);var t=b.p(i.current).attr("width",P+S+k).attr("height",N+C+w).append("g").attr("transform","translate("+S+","+C+")");if(void 0!=j){e=t.append("g").attr("class","background").selectAll("path").data(j).enter().append("path").attr("d",z),n=t.append("g").attr("class","foreground").selectAll("path").data(j).enter().append("path").attr("d",z).style("stroke",(function(t){return D[t.color]}));var r=t.selectAll(".dimension").data(p).enter().append("g").attr("class","dimension").attr("transform",(function(t){return"translate("+a(t.name)+")"})).call(b.e().on("start",(function(t){A[t.name]=a(t.name),e.attr("visibility","hidden")})).on("drag",(function(t){A[t.name]=Math.min(P,Math.max(0,b.f.x)),n.attr("d",z),p.sort((function(t,e){return U(t)-U(e)})),a.domain(p.map((function(t){return t.name}))),r.attr("transform",(function(t){return"translate("+U(t)+")"}))})).on("end",(function(t){delete A[t.name],_(b.p(this)).attr("transform","translate("+a(t.name)+")"),_(n).attr("d",z),e.attr("d",z).transition().delay(500).duration(0).attr("visibility",null)})));r.append("g").attr("class","axis").each((function(t){b.p(this).call(b.b().scale(t.scale))})).append("text").style("text-anchor","middle").attr("class","axis-label").attr("y",-19).style("fill","black").style("font-size",7).text((function(t){return t.name})),r.append("g").attr("class","brush").each((function(e){b.p(this).call(e.scale.brush=b.d().extent([[-10,0],[10,N]]).on("start",B).on("brush",(function(e){M(t)})).on("end",(function(e){M(t)})))})).selectAll("rect").attr("x",-8).attr("width",16)}}};return Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:Object(d.jsx)("u",{children:"Parallel Coordinates Plot"})}),Object(d.jsx)("input",{type:"checkbox",id:"mds",name:"mds",value:"mds",onChange:function(t){1==t.target.checked?y(!0):y(!1)}}),Object(d.jsx)("label",{for:"mds",children:" Select to Activate MDS-PCP Mode "}),j?Object(d.jsxs)("div",{children:[Object(d.jsx)("svg",{ref:i}),Object(d.jsxs)("div",{className:"legend",children:[Object(d.jsx)("b",{children:"Color Legend"}),Object(d.jsx)("br",{}),"Red   -  Cluster 1",Object(d.jsx)("br",{}),"Blue  -  Cluster 2",Object(d.jsx)("br",{}),"Black-  Cluster 3",Object(d.jsx)("br",{}),"Green  -  Cluster 4",Object(d.jsx)("br",{})]}),Object(d.jsx)("br",{})]}):Object(d.jsx)("div",{})]})}),m=function(t){var e,n,c=Object(r.useRef)(null),a=Object(r.useState)(),i=Object(s.a)(a,2),o=i[0],u=i[1],j=(t.data,[]);Object(r.useEffect)((function(){l.a.get("http://localhost:5000/mds_variable").then((function(t){var e=t.data,n=JSON.parse(e),r={first:n.first,second:n.second,name:n.name};u(r),h(),f()})),h()}),[]),Object(r.useEffect)((function(){h(),f()}),[o]);var h=function(){b.p(c.current).selectAll("svg > *").remove()},f=function(){if(void 0!=o&&(e=o.first,n=o.second),void 0!=e&&void 0!=n){var r=b.p(c.current).attr("height",500).attr("width",1e3).style("background-color","#f5f5f5").append("g").attr("transform","translate(100,20)"),a=b.l().domain([b.j(Object.keys(e),(function(t){return 1.2*e[t]})),b.i(Object.keys(e),(function(t){return 1.2*e[t]}))]).range([0,870]);r.append("g").attr("transform","translate(0,380)").call(b.a(a)).call((function(t){return t.append("text").style("font-size","18px").attr("x",435).attr("y",60).attr("fill","blue").attr("text-anchor","start").text("Component 1")}));var i=b.l().domain([b.j(Object.keys(n),(function(t){return 1.2*n[t]})),b.i(Object.keys(n),(function(t){return 1.2*n[t]}))]).range([380,0]);r.append("g").call(b.b(i)).call((function(t){return t.append("text").style("font-size","18px").attr("x",-90).attr("y",-80).attr("fill","red").attr("text-anchor","end").attr("transform","rotate(-90)").text("Component 2")}));var s=r.append("g");s.selectAll("dot").data(Object.keys(e)).enter().append("circle").attr("cx",(function(t){return a(e[t])})).attr("cy",(function(t){return i(n[t])})).attr("r",5).style("fill",(function(t){return"red"})).on("click",(function(e,n){b.p(this).transition().duration("50").style("fill","blue"),j.push(o.name[e]),t.updateStatePCP(j)})),s.selectAll("text").data(Object.keys(o.name)).enter().append("text").style("font-size","10px").attr("x",(function(t){return a(e[t])+10})).attr("y",(function(t){return i(n[t])+4})).attr("fill","black").text((function(t){return o.name[t]}))}};return Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),o?Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:Object(d.jsx)("u",{children:"MDS Variable's Plot using  (1-|correlation|) distance"})}),Object(d.jsx)("div",{children:"Click on Points for selecting Axis for Parallel Coordinates Plot"}),Object(d.jsx)("svg",{ref:c})]}):Object(d.jsx)("div",{})]})};var v=function(){var t,e,n=Object(r.useState)(0),c=Object(s.a)(n,2),a=c[0],i=c[1],o=Object(r.useState)(),b=Object(s.a)(o,2),h=(b[0],b[1],Object(r.useState)()),v=Object(s.a)(h,2),y=(v[0],v[1]),C=Object(r.useState)(),k=Object(s.a)(C,2),w=k[0],S=k[1],P=Object(r.useState)(),N=Object(s.a)(P,2),A=N[0],T=N[1];return Object(r.useEffect)((function(){l.a.get("http://localhost:5000/scree_plot").then((function(t){var e=t.data;y(e)}))}),[a]),t=["Extremely Low Income Units","Very Low Income Units","Low Income Units","Counted Rental Units","Counted Homeownership Units","All Counted Units","Total Units"],e=["Program Group","Borough","Postcode","Council District","Census Tract","NTA - Neighborhood Tabulation Area","Reporting Construction Type","Prevailing Wage Status"],Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"header",children:[" ",Object(d.jsx)("center",{children:Object(d.jsx)("b",{children:" New York Housing Units by Building"})})]}),Object(d.jsx)("center",{children:Object(d.jsx)(u,{changeChart:function(t){i(t)}})}),Object(d.jsx)("div",{className:"home",children:0===a?Object(d.jsx)(j,{numeric:t,categoric:e}):Object(d.jsx)("div",{})}),Object(d.jsxs)("center",{children:[1===a?Object(d.jsx)(f,{changeDim:function(t){S(t)}}):Object(d.jsx)("div",{}),2===a?Object(d.jsx)(x,{}):Object(d.jsx)("div",{}),3===a?Object(d.jsx)(p,{dimensionality:w}):Object(d.jsx)("div",{}),4===a?Object(d.jsx)(O,{}):Object(d.jsx)("div",{}),5===a?Object(d.jsx)(m,{updateStatePCP:function(t){T(t)}}):Object(d.jsx)("div",{}),6===a?Object(d.jsx)(g,{readFromMDSV:A}):Object(d.jsx)("div",{})]})]})},y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),r(t),c(t),a(t),i(t)}))};i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root")),y()},7:function(t,e,n){}},[[46,1,2]]]);
//# sourceMappingURL=main.5d09244b.chunk.js.map